---
- name: Installing required and basic packages...
  community.general.pacman:
    update_cache: true
    name: "{{ item }}"
    state: latest
  loop:
    - bash-completion
    - ethtool
    - mc
    - man
    - texinfo
    - nano
    # package with telnet client and server
    - inetutils
    - vi
    - vim
    - wget
    - curl
    - file
    - python3
    - python-pip
    - python-setuptools
    - sudo
    - ca-certificates
    - acpid
    - tcpdump
    - nmap
    - htop
    - nftables
    - acl
    - freerdp
    # - libuser

- name: Change GRUB timeout
  ansible.builtin.lineinfile:
    path: /etc/default/grub
    regexp: "^GRUB_TIMEOUT="
    line: GRUB_TIMEOUT=3

- name: Update GRUB config
  ansible.builtin.shell: "grub-mkconfig -o /boot/grub/grub.cfg"
