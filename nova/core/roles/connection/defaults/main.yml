---
primary_network: "{{ interfaces | selectattr('connection', 'equalto', true) | first }}"
connection_mode: "{{ primary_network.addresses | selectattr('connection', 'equalto', true) | map(attribute='mode') | first }}"
connection_mode_dhcp: "{{ true if connection_mode | regex_search('.*dhcp.*') else false }}"
sudo_requires_password: true # If this is true then either defined_become_password needs to be defined or ansible_deployer_username needs to be able to use it's ansible_deployer_password for sudo
